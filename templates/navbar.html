{% load static %}
<style>
    @import url('https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap');

body {
    background-color: #F4F9F1;
    font-family: 'Ubuntu', sans-serif;
  }

.green_sc {
    background: #25a76f;
}

.sidebar {
  background-color: #F4F9F1;
  border-color: #C4E4CB;
  box-shadow: -5px 0 15px rgba(51, 110, 65, 0.5);
  transition: transform 0.3s ease-in-out;
  z-index: 1000;
}

.sidebar-closed {
  transform: translateX(-100%);
}

.sidebar-close {
  color: #26A76F;
  transition: transform 0.3s ease-in-out;
}

.sidebar-close:hover {
  transform: scale(1.3);
}

.sidebar-text {
  color: #7B7B7B;
}

.sidebar-white {
  color: #FFFFFF;
}


</style>

<!-- OPEN SIDEBAR BUTTON -->
<span class="absolute sidebar-close text-2xl top-6 left-4 cursor-pointer" onclick="openSidebar()">
    <i class="bi bi-layout-sidebar p-2 bg-green-600 text-white rounded-md"></i>
</span>


<!-- USER SIDEBAR -->
<div class="sidebar fixed border-r-2 top-0 bottom-0 lg:left-0 pt-2 overflow-y-auto text-center">

    <!-- LOGO AND NAME -->
    <div class="flex mt-4 items-center">
        <img class="w-30 h-20 ml-6 mr-14" src="{% static 'images/logo.png'%}" title="PAL: Programming Assistive Learning">
    
            <!-- CLOSE SIDEBAR BUTTON -->
            <!-- <i class="bi bi-chevron-double-left ml-4 mr-6 sidebar-close cursor-pointer text-xl hover:scale-110 transition-transform" onclick="openSidebar()" title="Collapse"></i> -->
    </div>
        
    <!-- user SIDEBAR -->
    {% if not request.user.is_superuser %}
    <div>
      <!-- HOME SECTION -->
      <a href="{% url 'home' %}" class="p-4 mt-24 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-home" title="Home">
          <i class="bi bi-house-door ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">Home</span>
      </a>

      <!-- DISCOVER SECTION -->
      <a href="{% url 'discover' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-discover" title="Discover">
          <i class="bi bi-compass ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">Discover</span>
      </a>

      <!-- MY COURSES SECTION -->
      <a href="{% url 'course' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-course" title="My Courses">
          <i class="bi bi-journal-richtext ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">My Courses</span>
      </a>

      <!-- ASSESSMENTS SECTION -->
      <a href="{% url 'assessments' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-assessments" title="Assessments">
          <i class="bi bi-clipboard-check ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">Assessments</span>
      </a>

      <!-- CERTIFICATE SECTION -->
      <a href="{% url 'certificates' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-certificate" title="Certificate">
          <i class="bi bi-award ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">Certificate</span>
      </a>

      <!-- SETTINGS SECTION -->
      <a href="{% url 'settings' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white sidebar-settings" title="Settings">
          <i class="bi bi-gear ml-3 text-xl"></i>
          <span  class="ml-4 text-m font-bold">Settings</span>
      </a>
    </div>
    {% endif %}



      <!-- ADMIN SIDEBAR -->
      {% if request.user.is_superuser %}
      <div>
        <!-- Dashboard SECTION -->
        <a href="{% url 'dashboard' %}"  class="p-4 mt-24 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Home">
            <i class="bi bi-house-door ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">Dashboard</span>
        </a>

        <!-- USERS SECTION -->
        <a href="{% url 'manage_students' %}"  class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Assessments">
            <i class="bi bi-clipboard-check ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">Users</span>
        </a>

        <!-- ACHIEVEMENTS SECTION -->
        <a  href="{% url 'manage_achievements' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Certificate">
            <i class="bi bi-award ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">Achievements</span>
        </a>

        <!-- course SECTION -->
        <a href="{% url 'add_course' %}"class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Discover">
            <i class="bi bi-compass ml-3 text-xl"></i>
            <span  class="ml-4 text-m font-bold">Add Course</span>
        </a>
        <a href="{% url 'manage_courses' %}"  class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Discover">
            <i class="bi bi-compass ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">Manage Course</span>
        </a>
        <a href="{% url 'question_bank' %}"  class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Discover">
            <i class="bi bi-compass ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold"> Question Bank</span>
        </a>
  
        
  
        

        <!-- ASSESSMENTS SECTION -->
        <a href="{% url 'manage_lesson' %}"  class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Assessments">
            <i class="bi bi-clipboard-check ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">manage_lesson</span>
        </a>
  
        <!-- CERTIFICATE SECTION -->
        <a href="{% url 'manage_assessments' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Certificate">
            <i class="bi bi-award ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">manage_assessments</span>
        </a>
        <!-- CERTIFICATE SECTION -->
        <a  href="{% url 'view_logs' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Certificate">
            <i class="bi bi-award ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">Activity Logs</span>
        </a>
  
        <!-- SETTINGS SECTION -->
        <a href="{% url 'analytics' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Settings">
            <i class="bi bi-gear ml-3 text-xl"></i>
            <span  class="ml-4 text-m font-bold">analytics</span>
        </a>
        <!-- SETTINGS SECTION -->
        <a  href="{% url 'manage_settings' %}" class="p-4 flex items-center w-56 rounded-r-3xl px-4 duration-300 cursor-pointer sidebar-text hover:bg-green-600 hover:text-white" title="Settings">
            <i class="bi bi-gear ml-3 text-xl"></i>
            <span class="ml-4 text-m font-bold">manage_settings</span>
        </a>
      </div>
      {% endif %}  <!-- ADMIN SIDEBAR -->
    


    <div class="p-2 flex items-center mt-60 justify-self-end">
        {% if not request.user.is_superuser %}
        <img src="{{ user.avatar.url}}" alt="" class="w-14 h-14 rounded-xl ml-2 dark:bg-gray-500">
        <div>
            <h2 class="text-lg sidebar-text font-bold ml-3">{{ user.username }} </h2>
            <span class="flex items-center space-x-1">
                <a href="{% url 'profile' user.username %}" class="text-sm ml-3 font-black hover:underline sidebar-text opacity-60 hover:text-green-600" title="View Profile">View profile</a>
            </span>
        </div>
        {% endif %}
        <i onclick="confirmLogout()"class="bi bi-box-arrow-left ml-4 sidebar-close cursor-pointer text-2xl hover:scale-110 transition-transform" title="Log Out"></i>
    </div>
</div>


<script>
    function confirmLogout() {
        Swal.fire({
            title: 'Log out?',
            text: 'You are about to log out',
            showCancelButton: true,
            confirmButtonColor: '#26A76F',
            cancelButtonColor: 'lightgray',
            confirmButtonText: 'Log out'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "{% url 'logout' %}";
            }
        });
    }
    
    function openSidebar() {
                var sidebar = document.querySelector(".sidebar");
                sidebar.classList.toggle("sidebar-closed");
    }


</script>